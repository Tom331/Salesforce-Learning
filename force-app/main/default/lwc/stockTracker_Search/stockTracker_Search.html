<template>

    <lightning-input label="Stock Symbol" onkeyup={handleStockSymbolChange} type="text" placeholder="AAPL" required="true" min-length="2"> </lightning-input>
    <button disabled={isSymbolTooShort} style="margin-top: 10px" class="slds-button slds-button_neutral" onclick={searchStockSymbol}>Search</button> <br /> <br />

    <template if:true={isResultsFound}>
        <table style="max-height: 300px; display: block" class="slds-table slds-table_bordered slds-table_fixed-layout slds-scrollable_y" role="grid" aria-label="alabel">
            <thead>
                <th style="padding-left: 5px;" aria-label="Company Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                    <span class="slds-truncate" title="Company Name">Company Name</span>
                    </div>
                </th>

                <th style="padding-left: 5px;" aria-label="Symbol" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                    <span class="slds-truncate" title="Symbol">Symbol</span>
                    </div>
                </th>

                <th style="padding-left: 5px;" aria-label="Type" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                    <span class="slds-truncate" title="Company Name">Type</span>
                    </div>
                </th>

                <th style="text-align: center;" aria-label="Add to dashboard" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                    <span class="slds-truncate" title="Add to dashboard"></span>
                    </div>
                </th>
                </tr>
            </thead>


            <tbody>
                <template for:each={stockSearchResults} for:item="object">
                    <tr class="slds-hint-parent" key={object.stockSymbol}>
                        <td style="padding-left: 5px; width: 35%; max-width: 35%" role="gridcell">
                        <div class="slds-truncate" title="symbol">{object.companyName}</div>
                        </td>
                        <td style="padding-left: 5px; width: 20%; max-width: 20%" role="gridcell">
                        <div class="slds-truncate" title="symbol">{object.stockSymbol}</div>
                        </td>
                        <td style="padding-left: 5px; width: 20%; max-width: 20%" role="gridcell">
                        <div class="slds-truncate" title="type">{object.stockType}</div>
                        </td>
                        <td style="padding-left: 5px; width: 15%; max-width: 15%" role="gridcell">
                        <button class="slds-button slds-button_neutral">Add to dashboard</button>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </template> 
    
</template>